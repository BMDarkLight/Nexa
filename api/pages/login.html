<html>
    <head>
        <title>Nexa API</title>
        <meta charset="UTF-8" />
    </head>
    <body style="font-family: Arial, sans-serif; background-color: #f4f4f4; color: #333; padding: 20px;">
        <h1>Login</h1>
        <div id="login" style="display: flex; justify-content: space-between; border: 1px solid #ccc; padding: 20px; margin: 20px; border-radius: 10px;background-color: #f9f9f9; text-align: center;">
            <form id="login-form" style="display: inline-block;">
                <label for="login-username">Username:</label>
                <input type="text" id="login-username" name="username" required></p>
                <p><label for="login-password">Password:</label>
                <input type="password" id="login-password" name="password" required></p>
                <button type="submit">Sign In</button>
            </form>
        </div>

        <pre id="output"></pre>

        <script>
            document.getElementById("login-form").addEventListener("submit", async function(e) {
                e.preventDefault();
                const username = document.getElementById("login-username").value;
                const password = document.getElementById("login-password").value;
                const formData = new URLSearchParams();
                formData.append("username", username);
                formData.append("password", password);

                const response = await fetch("/signin", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/x-www-form-urlencoded"
                    },
                    body: formData
                });

                const result = await response.json();
                document.getElementById("output").textContent = JSON.stringify(result, null, 2);
                document.getElementById("login").style.display = "none";
            });
        </script>
    </body>
</html>